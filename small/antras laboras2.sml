Unit Daugyba;
           Reg c[15];
           Reg a[15];
           Alu alu[15];
           Reg b[8];
           Cnt sk[3];
MicroOperations
        1: a=input; /1
        2: b=input; /1
        3: c=0; /1
        4: sk = 111; /1
	5: L=b;/1
	6: F=0001;/2
	8: L=a;/1
	9: a[1:7]=M[1:7];/3
	10: a=M;/3
	11: b=M[8:15];/3
	12: F=0011;/2
	13: R=1;/1
	14: F=1000;/2
	15: R=c;/1
	16: c[2:15]=M[2:15];/3
	17: L=sk;/1
	18: F=1011;/2
	19: sk=M[13:15];/3
	20: a[2:15]=LLS(a[2:15]);/1
	21: b=RLS(b);/1
	22: L=c;/1
	23: c[1]=1;/1
	24: F=1100;/2
           
Trace      a,b,c,sk;
 
Conditions
        1: b[1]==1;
	2: a[8]==0;
	3: a[8]==1;
	4: a==a;
	5: a[1]==0;
	6: b[8]==0;
	7: sk<>0;
 
AddressingMode N;
 
Format  0: Y1, Y2, Y3, Y4;
        1: X, A;
 
Yfields
        1: 1,2,5,8,17,20,23;
        2: 3,6,12,14,18,24;
        3: 4,9,10,11,15,22;
	4: 13,16,19,21;
 
Xfield 1,2,3,4,5,6,7;
 
MiMemory
0: 0 1 0 0 0;
//a=input
1: 0 2 1 1 0; 
//b=input; c=0; sk=111;
2: 1 1 5;   
//if b[1]==1
3: 1 3 10;  
//if a[8]==1
4: 1 2 11;  
//if a[8]==0
5: 1 2 7;   
//if a[8]==0
6: 0 4 2 2 0; 
//a[1:7]=^a[1:7]
7: 0 4 2 3 0; 
//a=^a
8: 0 3 2 4 0; 
//b=^b
9: 1 4 11;
//goto 13
10: 0 4 2 2 0;
//a[2:7}=^a[2:7]
11: 1 5 13;
//if a[1]==0
12: 0 4 4 3 1;
//a=a+1
13: 1 6 15;
//if b[8]==0
14: 0 4 4 5 2;
//c = a + c
15: 0 5 5 0 3;
//sk = sk - 1
16: 0 6 0 0 4;
//LLS(a[2:15]); RLS(b)
17: 1 7 13;
//if sk<>0
18: 1 5 21;
//if a[1]==0
19: 0 0 6 5 2;
//c=c-1; 
20: 0 7 0 0 0;
//c[1]=1
21: 0;
Begin
End
